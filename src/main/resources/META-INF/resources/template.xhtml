<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xml:lang="#{langBean.languageCode}"
>

<h:head>
    <title>Siamois</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="#{redirectBean.redirectUrl('/jakarta.faces.resource/template.css.xhtml?ln=css')}"/>


    <script type="text/javascript">
        window.csrfTokenName = "{{ craft.config.csrfTokenName }}";
        window.csrfTokenValue = "{{ craft.request.csrfTokenValue }}";
    </script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&amp;display=swap" />


    <ui:insert name="head"/>

</h:head>

<!-- Metadata will be inserted here (JSF1103: The metadata facet must be a direct child of the view) -->
<ui:insert name="metadata"/>

<h:body>
<div class="d-flex">
    <!-- Barre latérale -->
    <nav id="sidebar" class="sidebar">
        <ul class="nav flex-column">
            <li class="nav-item">
                <h:graphicImage library="img" name="siamois_logo.png" styleClass="logo"/>
            </li>
        </ul>
        <button id="toggle-btn" class="btn btn-outline-light">☰</button>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-house-door-fill"/>
                    <span class="menu-text">Accueil</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-compass-fill"/>
                    <span class="menu-text">BD #{navBean.selectedInstitution.name}</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-play-circle-fill"/>
                    <span class="menu-text">Aide</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-bookmark-fill"/>
                    <span class="menu-text">Bookmark</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-clock-fill"/>
                    <span class="menu-text">Historique</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-person-fill"/>
                    <span class="menu-text">Rôle et Équipe</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">
                    <i class="bi bi-gear-fill"/>
                    <span class="menu-text">Paramètres</span>
                </a>
            </li>
        </ul>
        <div class="sidebar-footer">
            <hr class="sidebar-divider"/>
            <a class="nav-link">
                <i class="bi bi-file-earmark-person-fill"/>
                <span class="menu-text">#{navBean.currentUser().mail}</span>
            </a>
            <form id="logout-form" method="post" action="#{redirectBean.redirectUrl('/logout')}">
                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
                <a onclick="logout()" class="nav-link">
                    <i class="bi bi-door-open-fill"/>
                    <span class="menu-text">Déconnexion</span>
                </a>
            </form>
        </div>
    </nav>

    <!-- Contenu principal -->
    <div class="content">
        <ui:insert description="The main content" name="content"/>
    </div>
</div>

<!-- Bootstrap JS et Custom JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"/>
<h:outputScript library="js" name="template.js"/>
</h:body>
</html>
