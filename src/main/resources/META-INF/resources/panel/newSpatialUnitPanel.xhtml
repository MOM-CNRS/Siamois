<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:sharedInput="http://xmlns.jcp.org/jsf/composite/pages/shared/input"
             xmlns:p="http://primefaces.org/ui"
             xmlns:form="http://java.sun.com/jsf/composite/pages/shared/form"

>

    <!--@elvariable id="panelIndex" type="Integer"-->
    <!--@elvariable id="panelModel" type="fr.siamois.ui.bean.panel.models.panel.NewSpatialUnitPanel"-->
    <div class="sia-panel-title">
        #{langBean.msg("newSpatialUnit.title")}
    </div>

    <p:separator/>

    <form:csrfform formId="newSpatialUnitForm">
        <div style="padding:1em;">
            <p:panel id="generalInfoPanel" class="sia-form-panel" header="#{langBean.msg('common.header.general')}" toggleable="true"
                     collapsed="false">


                <p:panelGrid id="generalInfoPanelGrid"
                             layout="grid"
                >
                    <p:row>

                        <p:column styleClass="ui-g-12 ui-md-6 ui-lg-4">
                            <sharedInput:panelField title="#{langBean.msg('common.label.name')}" id="spatialUnitName">
                                <p:inputText id="spatialUnitNameField" required="true"
                                             value="#{panelModel.spatialUnit.name}"/>
                            </sharedInput:panelField>
                        </p:column>

                        <p:column styleClass="ui-g-12 ui-md-6 ui-lg-4">
                            <sharedInput:panelField title="Type" id="type">
                                <sharedInput:conceptAutocomplete
                                        panelStyleClass="spatial-unit-autocomplete"
                                        selectedConcept="#{panelModel.spatialUnit.category}"
                                        completeMethod="#{spatialUnitFieldBean.completeCategory}"
                                        editConceptUrl="#{spatialUnitFieldBean.getUrlForSpatialUnitTypeFieldCode()}"/>
                            </sharedInput:panelField>

                        </p:column>
                    </p:row>


                </p:panelGrid>


            </p:panel>


        </div>

        <p:toolbar class="panel-footer">
            <p:toolbarGroup align="right">
                <p:commandButton value='#{langBean.msg("common.action.save")}'
                                 oncomplete="scrollToPanel(#{flowBean.lastUpdatedPanelIndex});"
                                 actionListener="#{panelModel.save()}"
                                 update="flow"
                                 style="margin-right: .5rem">
                </p:commandButton>
            </p:toolbarGroup>
        </p:toolbar>
    </form:csrfform>


</ui:fragment>