<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:p="http://primefaces.org/ui"
             xmlns:spatialUnit="http://xmlns.jcp.org/jsf/composite/pages/spatialUnit/components"
>

    <!-- Conditionally render the message if it's set in the bean -->
    <p:staticMessage severity="error" summary="Error" closable="false" detail="#{panelModel.spatialUnitListErrorMessage}"
                     rendered="#{not empty panelModel.spatialUnitListErrorMessage}"/>
    <spatialUnit:spatialUnitList spatialUnitList="#{panelModel.spatialUnitList}"
                                 header='${langBean.msg("spatialunit.label")}'
                                 >
        <f:facet name="toolbar">
            <p:toolbar>
                <p:toolbarGroup>
                    <p:commandButton value='Nouveau lieu' icon="pi pi-plus"
                                     actionListener="#{spatialUnitFieldBean.init([], [])}"
                                     oncomplete="PF('new-spatial-unit-dialog').show()"
                                     style="margin-right: .5rem">
                    </p:commandButton>
                </p:toolbarGroup>
            </p:toolbar>
        </f:facet>
    </spatialUnit:spatialUnitList>
    <ui:include src="/dialog/spatialUnit/newSpatialUnitDialog.xhtml"/>

</ui:fragment>