<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:p="http://primefaces.org/ui"
             xmlns:spatialUnit="http://xmlns.jcp.org/jsf/composite/pages/spatialUnit/components"
>
    <!--@elvariable id="panelIndex" type="Integer"-->
    <!--@elvariable id="panelModel" type="fr.siamois.ui.bean.panel.models.panel.SpatialUnitListPanel"-->
    <!-- Conditionally render the message if it's set in the bean -->
    <p:staticMessage severity="error" summary="Error" closable="false" detail="#{panelModel.spatialUnitListErrorMessage}"
                     rendered="#{not empty panelModel.spatialUnitListErrorMessage}"/>
    <div class="sia-panel-title">
        <i class="bi bi-geo-alt"></i>
        Unités géographiques
        <p:chip label="258" styleClass="spatial-unit-count-chip"/>
    </div>
    <spatialUnit:spatialUnitList spatialUnitList="#{panelModel.spatialUnitList}"

                                 panelModel="#{panelModel}"
                                 header='${langBean.msg("spatialunit.label")}'
                                 >
        <f:facet name="toolbar">
            <p:toolbar>
                <p:toolbarGroup>
                    <span class="filter-container ui-input-icon-left"> <i class="bi bi-search"></i>
                        <p:inputText id="globalFilter" onkeyup="PF('spatialUnitListTable').filter()" placeholder="Rechercher" />
                    </span>


                </p:toolbarGroup>

                <p:toolbarGroup>
                    <p:fileUpload mode="simple" skinSimple="true" chooseIcon="bi bi-upload" />
                    <p:commandButton  icon="bi bi-download" >

                    </p:commandButton>
                </p:toolbarGroup>

                <p:toolbarGroup>
                    <p:commandButton value='Ajouter' icon="bi bi-plus-square"
                                     action="#{flowBean.addNewSpatialUnitPanel(panelModel)}"
                                     update="flow"
                                     style="margin-right: .5rem">
                    </p:commandButton>
                </p:toolbarGroup>
            </p:toolbar>
        </f:facet>
    </spatialUnit:spatialUnitList>


</ui:fragment>