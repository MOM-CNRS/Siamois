<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:p="http://primefaces.org/ui"
             xmlns:spatialUnit="http://xmlns.jcp.org/jsf/composite/pages/spatialUnit/components"
             xmlns:recordingUnit="http://xmlns.jcp.org/jsf/composite/pages/recordingUnit/components"
             xmlns:f="http://java.sun.com/jsf/core"
             xmlns:table="http://xmlns.jcp.org/jsf/composite/pages/shared/table"

>

    <!--@elvariable id="tableModelParents" type="fr.siamois.ui.table.EntityUnitTableModel"-->
    <!--@elvariable id="tableModelChildren" type="fr.siamois.ui.table.EntityUnitTableModel"-->
    <!--@elvariable id="panelIndex" type="java.lang.Integer" -->

    <p:panel id="parentsPanel" class="sia-form-panel" header="Parents"
             toggleable="true"
             collapsed="false">

        <table:entityTable
                displayColumnToggler="true"
                tableModel="#{tableModelParents}"
                panelIndex="#{panelIndex}"
                id="parentList"
        >
            <f:facet name="rightToolbar">
                <p:commandButton
                        rendered="#{tableModelParents.toolbarCreateConfig ne null and flowBean.isWriteMode and spatialUnitFieldBean.isCreateAllowed()}"
                        value="#{langBean.msg('common.action.create')}"
                        icon="bi bi-plus-square"
                        actionListener="#{tableModelParents.openCreateFromToolbar(genericNewUnitDialogBean)}"
                        oncomplete="PF('newUnitDiag').show();"
                        update="newUnitForm"
                        style="margin-right:.5rem">
                </p:commandButton>
            </f:facet>
        </table:entityTable>

    </p:panel>

    <p:panel id="childrenPanel" class="sia-form-panel"
             header="Enfants" toggleable="true"
             collapsed="false">
        <table:entityTable
                displayColumnToggler="true"
                tableModel="#{tableModelChildren}"
                panelIndex="#{panelIndex}"
                id="childList"
        >
            <f:facet name="rightToolbar">
                <p:commandButton
                        rendered="#{tableModelChildren.toolbarCreateConfig ne null and flowBean.isWriteMode and spatialUnitFieldBean.isCreateAllowed()}"
                        value="#{langBean.msg('common.action.create')}"
                        icon="bi bi-plus-square"
                        actionListener="#{tableModelChildren.openCreateFromToolbar(genericNewUnitDialogBean)}"
                        oncomplete="PF('newUnitDiag').show();"
                        update="newUnitForm"
                        style="margin-right:.5rem">
                </p:commandButton>
            </f:facet>
        </table:entityTable>

    </p:panel>





</ui:fragment>