<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:cc="http://xmlns.jcp.org/jsf/composite"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:table="http://xmlns.jcp.org/jsf/composite/pages/shared/table">

    <cc:interface>

        <!-- panel index -->
        <cc:attribute name="panelIndex"
                      type="java.lang.Integer"
                      required="true"/>

        <!-- panel model -->
        <cc:attribute name="panelModel"
                      type="fr.siamois.ui.bean.panel.models.panel.list.RecordingUnitListPanel"
                      required="true"/>

    </cc:interface>

    <cc:implementation>

        <p:staticMessage severity="error"
                         summary="Error"
                         closable="false"
                         detail="#{cc.attrs.panelModel.errorMessage}"
                         rendered="#{not empty cc.attrs.panelModel.errorMessage}"/>

        <h:form id="recordingUnitListForm">

            <input type="hidden"
                   name="${_csrf.parameterName}"
                   value="${_csrf.token}"/>

            <table:entityTable
                    id="recordingUnitList"
                    tableModel="#{cc.attrs.panelModel.tableModel}"
                    panelIndex="#{cc.attrs.panelIndex}"/>

        </h:form>

    </cc:implementation>
</ui:composition>