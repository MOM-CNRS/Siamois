<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:form="http://xmlns.jcp.org/jsf/composite/pages/shared/form"
             xmlns:p="http://primefaces.org/ui" xmlns:h="http://java.sun.com/jsf/html"

>


    <p:dialog
            widgetVar="newInstitutionDialog"
            id="newInstitutionDialog"
            width="40vw"
            showEffect="fade"
            modal="true"
            closable="false"
    >
        <h:form>
            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
            <div class="dialog-new-institution">
                <h3>#{institutionDialogBean.title}</h3>
                <hr/>
                <div class="form-group row">
                    <label class="col-lg-4 col-form-label"
                           for="name">#{langBean.msg('organisationManagement.orgName')}</label>
                    <div class="col-lg-6 ms-auto">
                        <p:inputText
                                required="true"
                                id="name"
                                value="#{institutionDialogBean.institutionName}"
                                maxlength="#{documentCreationBean.maxTitleLength()}"
                        />
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-lg-4 col-form-label"
                           for="identifier">#{langBean.msg('common.label.identifier')}</label>
                    <div class="col-lg-6 ms-auto">
                        <p:inputText
                                required="true"
                                id="identifier"
                                value="#{institutionDialogBean.identifier}"
                        />
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-lg-3 col-form-label"
                           for="thesaurus">#{langBean.msg('common.label.thesaurusUrl')}</label>
                    <div class="col-lg-1 ms-auto">
                        <p:commandButton id="image" type="button" icon="bi bi-question-circle" />
                        <p:overlayPanel for="image" dismissable="false" showCloseIcon="true" style="max-width:600px; max-height:400px;">
                            <h:graphicImage styleClass="config-example" library="img" name="opentheso_config_example.png" alt="Example configuration on OpenTheso"/>
                        </p:overlayPanel>
                    </div>
                    <div class="col-lg-6 ms-auto">
                        <p:inputText
                                required="true"
                                id="thesaurus"
                                value="#{institutionDialogBean.thesaurusUrl}"
                                styleClass="#{institutionDialogBean.thesaurusError ? 'ui-state-error' : ''}"
                        />
                    </div>


                </div>
                <div class="form-group row">
                    <label class="col-lg-4 col-form-label"
                           for="description">#{langBean.msg('common.label.description')}</label>
                    <div class="col-lg-6 ms-auto">
                        <p:inputTextarea
                                id="description"
                                value="#{institutionDialogBean.description}"
                        />
                    </div>
                </div>
                <hr/>
                <div class="dialog-buttons">
                    <p:commandButton value="#{langBean.msg('common.action.cancel')}"
                                     immediate="true" action="#{institutionDialogBean.exit()}" update="@form"/>
                    <p:commandButton value="#{institutionDialogBean.buttonLabel}"
                                     action="#{institutionDialogBean.save()}" update="@form"/>
                </div>
            </div>
        </h:form>
    </p:dialog>

</ui:fragment>