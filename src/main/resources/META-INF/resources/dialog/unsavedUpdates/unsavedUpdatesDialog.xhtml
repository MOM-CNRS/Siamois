<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://java.sun.com/jsf/core"

>

    <h:form id="unsavedUpdatesForm">
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
        <p:confirmDialog message="Il reste des modifications non sauvegardés. Voulez-vous les annuler ?" header="Modifications non sauvegardés" severity="danger" widgetVar="confirmUnsavedDialog">
            <p:commandButton value="Abandonner les modifications" action="#{flowBean.undoChangesOnAllPanels()}" update="flow readWriteSwitchForm"
                             oncomplete="PF('confirmUnsavedDialog').hide()" styleClass="ui-button-danger" icon="pi pi-times"/>
            <p:commandButton value="Sauvegarder les modifications" action="#{flowBean.saveAllPanels()}" update="flow readWriteSwitchForm"
                             oncomplete="PF('confirmUnsavedDialog').hide()" icon="pi pi-save"/>
            <p:commandButton value="Retour au mode édition" onclick="PF('confirmUnsavedDialog').hide();" type="button"/>
        </p:confirmDialog>
    </h:form>
</ui:fragment>