<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://java.sun.com/jsf/core"

>
    <h:form id="newSpatialUnitForm">
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
        <p:dialog widgetVar="newSpatialUnitDiag" id="newSpatialUnitDiag" showEffect="fade" closeOnEscape="true"
                  fitViewport="true"
                  width="60vw"
                  minWidth="400"
                  maxWidth="90vw"
                  style="max-height:90vh;"
                  appendToBody="true" modal="true" styleClass="sia-new-unit-dialog ui-panel siamois-panel spatial-unit-panel">

            <f:facet name="header">
                <div >
                    <div class="sia-flow-panel-title ui-panel-titlebar">
                        <i class="bi bi-pencil-square"/>
                        <span style="padding-right:0.5em;">Nouvelle unit√© spatiale</span>
                    </div>
                </div>
            </f:facet>
            <p:outputPanel id="newSpatialUnitFormContent">
                <ui:include src="/pages/shared/form/customForm.xhtml">
                    <ui:param name="panelModel" value="#{newSpatialUnitDialogBean}"/>
                    <ui:param name="layout" value="#{newSpatialUnitDialogBean.detailsForm.layout}"/>
                    <ui:param name="readOnly" value="#{false}"/>
                    <ui:param name="prefix" value="newSpatialUnit"/>
                    <ui:param name="panelId" value="newSpatialUnitForm:customFormPanel-newSpatialUnit-0"/>
                </ui:include>
            </p:outputPanel>

            <!-- Save/Cancel Toolbar -->
            <f:facet name="footer">
                <div >
                    <p:toolbar class="panel-footer">
                        <p:toolbarGroup align="right">
                            <p:commandLink value='#{langBean.msg("common.action.cancel")}'
                                           oncomplete="PF('newSpatialUnitDiag').hide()"
                                           immediate="true"
                                           style="margin-right: 1rem">
                            </p:commandLink>
                            <p:commandButton id="createButton" value='#{langBean.msg("common.action.create")}'
                                             action="#{newSpatialUnitDialogBean.create()}"
                                             update="newSpatialUnitFormContent templateFormCC:templateForm:templateGrowl"
                                             style="margin-right: 1rem">
                            </p:commandButton>
                            <p:commandButton id="createAndViewButton"
                                             update="newSpatialUnitFormContent templateFormCC:templateForm:templateGrowl"
                                             action="#{newSpatialUnitDialogBean.createAndOpen()}"
                                             value='#{langBean.msg("common.action.createAndView")}'
                                             style="margin-right: .5rem">
                            </p:commandButton>
                        </p:toolbarGroup>
                    </p:toolbar>
                </div>
            </f:facet>


        </p:dialog>
    </h:form>
</ui:fragment>