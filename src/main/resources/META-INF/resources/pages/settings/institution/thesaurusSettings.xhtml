<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:settingscomp="http://xmlns.jcp.org/jsf/composite/pages/settings/components"
                xmlns:form="http://java.sun.com/jsf/composite/pages/shared/form">

    <ui:define name="head">
        <h:outputStylesheet library="css" name="settings.css"/>
    </ui:define>

    <ui:define name="content">
        <main>
            <form:csrfform formId="breadCrumbForm" styleClass="breadCrumpForm">
                <p:breadCrumb homeDisplay="false">
                    <p:menuitem value="Organisations" action="#{institutionDetailsBean.goToInstitutionList()}"/>
                    <p:menuitem value="#{institutionThesaurusSettingsBean.institution.name}" action="#{institutionDetailsBean.backToInstitutionSettings()}"/>
                    <p:menuitem value="#{langBean.msg('common.label.thesaurus')}"/>
                </p:breadCrumb>
            </form:csrfform>

            <settingscomp:fieldValue
                    title="#{langBean.msg('organisationSettings.thesaurus.title', institutionThesaurusSettingsBean.institution.name)}"
                    formId="thesaurusForm"
                    saveMethod="#{institutionThesaurusSettingsBean.saveConfig()}"
                    cancelMethod="#{institutionDetailsBean.backToInstitutionSettings()}"
            >
                <p:messages showDetail="true" autoUpdate="true" closable="true" id="messages"/>

                <div>
                    <p style="font-style: italic">
                        #{langBean.msg('thesaurusConfig.hint')}
                    </p>
                    <h:graphicImage styleClass="config-example" library="img" name="opentheso_config_example.png" alt="Example configuration on OpenTheso"/>
                </div>
                <hr/>

                <settingscomp:fieldValueRow label="#{langBean.msg('myThesaurus.url')}" inputId="profile-thesaurus" >
                    <p:inputText id="profile-thesaurus" value="#{institutionThesaurusSettingsBean.thesaurusUrl}"/>
                </settingscomp:fieldValueRow>
            </settingscomp:fieldValue>
        </main>
    </ui:define>

</ui:composition>