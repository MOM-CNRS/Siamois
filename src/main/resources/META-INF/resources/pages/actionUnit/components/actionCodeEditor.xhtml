<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:cc="http://xmlns.jcp.org/jsf/composite"
        xmlns:h="http://java.sun.com/jsf/html">


    <cc:interface>
        <cc:attribute name="actionCode" required="true"/>
    </cc:interface>

    <cc:implementation>

        <div style="display:flex;">
            <p:selectOneMenu id="primaryActionCodeTypeOption"
                             value="#{actionCode.type}">
                <f:selectItem itemLabel="Code libre" itemValue="null"/>
<!--                <f:selectItems value="#{actionUnitBean.actionCodeTypeOptions}"-->
<!--                               var="option" itemLabel="#{option.label}" itemValue="#{option}"/>-->
            </p:selectOneMenu>
            <p:autoComplete id="auto-complete-primary-action-code"
                            value="#{actionCode}"
                            var="item" itemLabel="#{item.code}"
                            completeMethod="#{actionUnitBean.completeActionCode}"
                            converter="#{actionCodeConverter}"
                            itemValue="#{item}"
                            required="true"
                            forceSelection="false"
                            scrollHeight="300"
                            dropdown="false">
                <p:ajax event="itemSelect"
                        update="@form"/>
                <p:column>
                    <div style="display:flex;">
                        <span class="pi pi-qrcode ui-chip ui-chip-icon"/>
                        <div style="width:max-content;" class="ui-chip-text">#{actionCode.type.label}
                        </div>
                    </div>

                </p:column>
                <p:column>
                                        <span>
                                            #{actionCode.code}
                                        </span>
                </p:column>
                <!--                                <f:facet name="footer">-->
                <!--                                    <div class="ui-fluid" style="padding:0.5rem 1rem 1rem 1rem">-->
                <!--                                        <p:button value="Add new code" onclick="alert('This could open a dialog')"/>-->
                <!--                                    </div>-->
                <!--                                </f:facet>-->
            </p:autoComplete>
        </div>

    </cc:implementation>

</ui:composition>
